<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Alexa Auto SDK: Co-assistant Extension</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="aace-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alexa Auto SDK
   &#160;<span id="projectnumber">2.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Co-assistant Extension </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Alexa Auto SDK Co-assistant extension allows you to create and deploy your own branded voice assistant on the same Alexa technology stack that Alexa uses.</p>
<p><b>Table of Contents</b></p>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#whats-included">What's Included</a></li>
<li><a href="#co-assistant-extension-architecture">Co-assistant Extension Architecture</a></li>
<li><a href="#co-assistant-extension-sequence-diagram">Co-assistant Extension Sequence Diagram</a></li>
<li><a href="#getting-started-with-the-co-assistant-extension">Getting Started with the Co-assistant Extension</a></li>
<li><a href="#building-the-auto-sdk-with-the-co-assistant-extension">Building the Auto SDK with the Co-assistant Extension</a></li>
<li><a href="#implementing-a-custom-co-assistant-handler">Implementing a Custom Co-assistant Handler</a></li>
</ul>
<h2>Overview</h2>
<p>The Co-assistant extension allows you to develop a branded assistant that collaborates with Alexa. Users can seamlessly use Alexa or the branded assistant and benefit from the same rich, voice-forward experience that the Alexa services enable. Furthermore, each assistant is aware of the other and can seamlessly hand interactions over to the other as needed.</p>
<h2>What's Included</h2>
<p>The Co-assistant extension is provided by your Amazon Solutions Architect (SA) as an archive named <code>co-assistant-[version].zip</code> and is structured as follows:</p>
<div class="fragment"><div class="line">aac-sdk</div><div class="line">└─ extensions</div><div class="line">   └─ extras</div><div class="line">      └─ co-assistant</div><div class="line">         └─ meta-aac-extra-co-assistant</div><div class="line">            ├─ conf</div><div class="line">            ├─ recipes-aac</div><div class="line">            ├─ recipes-avs</div><div class="line">         ├─ modules</div><div class="line">            └─ co-assistant</div><div class="line">               └─ platform</div><div class="line">         └─ platforms</div><div class="line">            └─ android</div></div><!-- fragment --><p> The following components are included in the Co-assistant extension:</p>
<ul>
<li><b>meta-aac-extra-co-assistant</b>: This directory contains the scripts that allow you to build the Co-assistant extension.</li>
<li><b>modules</b>: This directory contains the Alexa Auto SDK interfaces and source code for the co-assistant module.</li>
<li><b>platform</b>: This directory contains the Android platform implementation for the Co-assistant extension.</li>
</ul>
<h2>Co-assistant Extension Architecture</h2>
<p>The following diagram provides a high-level view of how the Co-assistant extension interacts with the Auto SDK and your application.</p>
<div class="image">
<img src="coassistant_architecture.png" alt="coassistant_architecture.png"/>
<div class="caption">
Login_Flow</div></div>
 <h2>Co-assistant Extension Sequence Diagram </h2>
<p>The following diagram illustrates a sample co-assistant sequence.</p>
<div class="image">
<img src="co-assistant_sequence.png" alt="co-assistant_sequence.png"/>
<div class="caption">
Login_Flow</div></div>
 <h2>Getting Started with the Co-assistant Extension</h2>
<p>Before you get started, you should have a discussion with your SA about the overall process. Specifically, have a discussion about what existing domains will be available to your assistant and how these domains might overlap with Alexa, so you can plan for which custom skills you will develop in step 5.</p>
<p>Your SA will be your guide as you follow these steps to create a branded assistant.</p>
<ol type="1">
<li>Integrate the Alexa Auto SDK, including the Co-assistant extension, with your Alexa implementation. This step includes <a href="#building-the-auto-sdk-with-the-co-assistant-extension">building the Auto SDK with the Co-assistant extension</a> and <a href="#implementing-a-custom-co-assistant-handler">implementing a custom Co-assistant handler</a>.</li>
<li>Work with your SA to get your user accounts and devices whitelisted for evaluation of the pre-packaged "Benson" assistant. Metaphorically speaking, this is the co-assistant's "Demo mode".</li>
<li><p class="startli">Evaluate the pre-packaged Benson assistant using your platform implementation.</p>
<p class="startli">&gt;**Note:** Once you are done evaluating the pre-packaged Benson assistant, we can transition your implementation out of "Demo Mode". You can continue using "Benson" as a wake word, but the system will direct this invocation to a new assistant configured for you. Step 4 describes how you can transition to a new wake word.</p>
</li>
<li>Amazon will develop your custom wake word for you. Please work with your Business Development and Solutions Architect for terms and details about the process.</li>
<li><p class="startli">Develop custom skills via the <a href="https://developer.amazon.com/docs/ask-overviews/build-skills-with-the-alexa-skills-kit.html">Alexa Skills Kit (ASK) portal</a> and notify your SA of the skills you have deployed. Your SA will ensure your skills get marked for use with just your branded assistant.</p>
<p class="startli">&gt;**Note:** You may also want to define editorial responses (for example; "Benson, Good Morning" or "Benson, tell me a joke") and submit these to your SA. It is important that you pre-plan this effort with your SA to ensure we can provide you with the latest tools and guide you through the nuances of editorials.</p>
</li>
<li>Select an existing Amazon Web Services (AWS) Polly voice or discuss with your SA how Amazon can help you create a custom voice.</li>
</ol>
<h2>Building the Auto SDK with the Co-assistant Extension</h2>
<p>&gt;**Note:** This section describes how to build the Auto SDK with the Co-assistant extension. In addition, you need to build the Auto SDK with the Local Voice Control (LVC) extension. For details, see the LVC extension README.</p>
<h3>General Build Requirements</h3>
<p>You can build the Alexa Auto SDK with the Co-assistant extension on a Linux, Unix, or macOS host of your choice. However, we recommend and support running a Docker environment with the following configuration.</p>
<ul>
<li>macOS Sierra or Ubuntu 16.04 LTS</li>
<li>Processor: 2.5 GHz</li>
<li>Memory: 16 Gb</li>
<li>Storage: 1 Gb+ available to use.</li>
</ul>
<h3>Supported Target Platforms</h3>
<p>The Alexa Auto SDK is supported on the following platforms:</p>
<ul>
<li>Android 5.1 Lollipop API Level 22 or higher.<ul>
<li>ARMv7a (+NEON)</li>
<li>AArch64</li>
<li>x86 32-bit</li>
<li>x86 64-bit</li>
</ul>
</li>
<li>Generic Linux<ul>
<li>x86 64-bit</li>
</ul>
</li>
<li>Poky Linux<ul>
<li>ARMv7a (+NEON)</li>
<li>AArch64 (including Automotive Grade Linux (AGL))</li>
</ul>
</li>
</ul>
<h3>Device Requirements</h3>
<h4>Android</h4>
<ul>
<li>1GB RAM for the LVC APK</li>
<li>2GB storage for the application and its runtime cache + 1GB per locale for the LVC APK</li>
<li>Android NDK r20</li>
</ul>
<h4>Linux</h4>
<ul>
<li>1GB RAM for the LVC process</li>
<li>1GB storage for application and its runtime cache + 1GB per locale for the LVC APK</li>
</ul>
<h3>Build Procedure</h3>
<p>To build the Auto SDK with the Co-assistant extension, follow these steps:</p>
<ol type="1">
<li><p class="startli">Unzip the <code>co-assistant-[version].zip</code> archive into the <code>aac-sdk/extensions/extras</code> directory.</p>
<p class="startli">For example: <code>unzip co-assistant-1.0.zip -d aac-sdk/extensions/extras/co-assistant</code> </p><pre class="fragment">&gt;**NOTE**: If the archive is already unzipped, simply move the `co-assistant` directory into the 'aac-sdk/extensions/extras` directory.
</pre></li>
<li><p class="startli">Use the Alexa Auto SDK builder script to build the Auto SDK with the <code>co-assistant</code> extension.</p>
<p class="startli">To build for all Android targets, for example, use the following command:</p>
</li>
</ol>
<div class="fragment"><div class="line">builder/build.sh android extensions/extras/co-assistant</div></div><!-- fragment --><p>Confirm that the Alexa Auto SDK Builder has added the extension by looking for the following lines in the initial console output:</p>
<div class="fragment"><div class="line">NOTE: Search for sub modules: /home/builder/aac/extensions/extras/co-assistant</div><div class="line">NOTE: Adding modules: /home/builder/aac/extensions/extras/co-assistant/modules</div><div class="line">NOTE: Adding meta layer: /home/builder/aac/extensions/extras/co-assistant/meta-aac-co-assistant</div></div><!-- fragment --><h4>For Android Targets</h4>
<p>Create the platform AAR for the <code>co-assistant</code> extension module.</p>
<p>For example:</p>
<div class="fragment"><div class="line">builder/build.sh gradle extensions/extras/co-assistant</div></div><!-- fragment --> <h2>Implementing a Custom Co-assistant Handler</h2>
<p>To implement a custom Co-assistant handler, extend the <code>CoAssistant</code> class to notify the application when the active agent is changed:</p>
<div class="fragment"><div class="line">public class MyCoAssistantHandler extends CoAssistant {</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void activeAgentChanged(String agent) {</div><div class="line">        // Notify the application that active agent is now changed.</div><div class="line">        // Application can use this information to update the UI etc.</div><div class="line">    }</div><div class="line"></div><div class="line">}</div></div><!-- fragment --><p>To enable Co-assistant capability, your platform implementation must instantiate and register this instance with the Engine by calling the <code>registerPlatformInterface()</code> method on the Engine. For example:</p>
<div class="fragment"><div class="line">engine-&gt;registerPlatformInterface( std::make_shared&lt;MyCoAssistantHandler&gt;());</div></div><!-- fragment --> </div></div><!-- contents -->
<html>
  <body>
    <hr style="height:1px;border-width:0;color:gray;background-color:gray">
    <p style="text-align:left;">
      Alexa Auto SDK 2.2.0 - Copyright 2017-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.
      <span style="float:right;">
        Licensed under the <a HREF=http://aws.amazon.com/apache2.0/>Apache License, Version 2.0</a>
      </span>
    </p>
  </body>
</html>
