<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Alexa Auto SDK: Local Voice Control Extension</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="aace-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alexa Auto SDK
   &#160;<span id="projectnumber">3.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Local Voice Control Extension </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Local Voice Control extension enhances the Alexa Auto experience by providing voice-based car control, entertainment, local search, navigation, and phone calling whether connected to the internet or not.</p>
<h2>Table of Contents</h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#whats-included">What's Included</a></li>
<li><a href="#modules-in-local-voice-control-extension">Modules in Local Voice Control Extension</a><ul>
<li><a href="#local-voice-control-module">Local Voice Control Module</a></li>
<li><a href="#local-skill-service-module">Local Skill Service Module</a></li>
<li><a href="#address-book-local-service-module">Address Book Local Service Module</a></li>
<li><a href="#car-control-local-service-module">Car Control Local Service Module</a></li>
<li><a href="#local-navigation-module">Local Navigation Module</a></li>
</ul>
</li>
<li><a href="#local-voice-control-extension-architecture">Local Voice Control Extension Architecture</a></li>
<li><a href="#general-build-requirements">General Build Requirements</a><ul>
<li><a href="#supported-target-platforms">Supported Target Platforms</a></li>
<li><a href="#device-requirements">Device Requirements</a></li>
<li><a href="#build-dependencies">Build Dependencies</a></li>
</ul>
</li>
<li><a href="#building-the-alexa-auto-sdk-with-the-local-voice-control-extension">Building the Alexa Auto SDK with the Local Voice Control Extension</a><ul>
<li><a href="#using-lvc-on-android">Using LVC on Android</a></li>
<li><a href="#using-lvc-on-linux">Using LVC on Linux</a></li>
</ul>
</li>
</ul>
<h2>Overview</h2>
<p>The Local Voice Control extension works in conjunction with the on-device Local Voice Control (LVC) software, which provides an Alexa endpoint that runs inside the car's head unit. LVC enhances the user experience with improved resiliency and reduced user-perceived latency by providing local Automatic Speech Recognition (ASR), Natural Language Understanding (NLU), Text-to-Speech (TTS), and skill execution functionality resembling the Alexa Voice Service (AVS). When connected to the internet, the user can use the standard Alexa capabilities. Without internet access, only capabilities supported by the local skills and services are available.</p>
<p>Before you can use the LVC extension, download and install the on-device LVC software separately according to instructions in the Local Voice Control module documentation for ./modules/local-voice-control/README.md "Linux" or ./platforms/android/modules/local-voice-control/README.md "Android".</p>
<p>&gt;**Note:** If you use the Local Voice Control extension, you must register an implementation of the <code>NetworkInfoProvider</code> platform interface that monitors network connection and reports the network state to the Engine.</p>
<h2>What's Included</h2>
<p>The following components are included in the Local Voice Control extension:</p>
<ul>
<li><b>meta-aac-local-voice-control</b>: This directory contains the scripts that build modules for various hardware targets. It includes archives containing libraries the Auto SDK Engine needs for LVC: <code>local-voice-engine-[version].tar.gz</code>, <code>hr-[version].tar.gz</code>, and <code>local-poi-service-[version].tar.gz</code>.</li>
<li><b>modules</b>: This directory contains the Alexa Auto SDK interfaces and source code for the modules.</li>
<li><b>platforms/android</b>: This directory contains the Android platform implementation for the different modules of this extension.</li>
</ul>
<p>The Local Voice Control extension is provided by your Amazon Solutions Architect (SA) or Partner Manager as an archive named <code>local-voice-control-[version].zip</code> and is structured as follows:</p>
<div class="fragment"><div class="line">aac-sdk</div><div class="line">└─ extensions</div><div class="line">   └─ extras</div><div class="line">      └─ local-voice-control</div><div class="line">         ├─ assets</div><div class="line">         │  └─ config-lvc.json</div><div class="line">         ├─ meta-aac-local-voice-control</div><div class="line">         │  └─ packages</div><div class="line">         │     └─ local-voice-engine-[version].tar.gz</div><div class="line">         │     └─ hr-[version].tar.gz</div><div class="line">         │     └─ local-poi-service-[version].tar.gz</div><div class="line">         |</div><div class="line">         ├─ modules</div><div class="line">         │  ├─ address-book-local-service</div><div class="line">         │  ├─ car-control-local-service</div><div class="line">         │  ├─ local-navigation</div><div class="line">         │  ├─ local-skill-service</div><div class="line">         │  └─ local-voice-control</div><div class="line">         ├─ platforms</div><div class="line">         │  └─ android</div><div class="line">         │     └─ modules</div><div class="line">         │        ├─ address-book-local-service</div><div class="line">         │        ├─ car-control-local-service</div><div class="line">         │        ├─ local-navigation</div><div class="line">         │        ├─ local-skill-service</div><div class="line">         │        └─ local-voice-control</div><div class="line">         ├─ CMakeLists.txt</div><div class="line">         ├─ LICENSE</div><div class="line">         ├─ LVC-Android.md</div><div class="line">         ├─ LVC-Linux.md</div><div class="line">         └─ package.sh</div></div><!-- fragment --><h2>Modules in Local Voice Control Extension</h2>
<p>The Local Voice Control extension include the following modules:</p>
<h3>Local Voice Control Module</h3>
<p>The Local Voice Control module augments the Engine with a component called Hybrid Router, which acts as a proxy between the two Alexa endpoints (AVS and LVC). The Hybrid Router performs these functions:</p><ul>
<li>establishing and maintaining the connection to the LVC Alexa endpoint over a Unix Domain Socket (UDS)</li>
<li>sending events to and receiving directives from both Alexa endpoints</li>
<li>deciding which Alexa endpoint should execute the response to a user request</li>
</ul>
<p>The Local Voice Control module also provides information (e.g., device locale setting and internet connection state) to LVC by bridging between LVC and the platform interfaces implemented with the default modules in the Auto SDK. This module does not include platform interfaces of its own but does require the application to pass Engine configuration parameters, as outlined in the Local Voice Control module documentation for ./modules/local-voice-control/README.md "Linux" or ./platforms/android/modules/local-voice-control/README.md "Android".</p>
<h3>Local Skill Service Module</h3>
<p>The Local Skill Service module provides a multipurpose Engine service called "Local Skill Service," which is an HTTP-over-UDS endpoint for several connections between the Engine and skills or services running in LVC. This module does not include platform interfaces of its own but does require the application to pass Engine configuration parameters, as outlined in the Local Skill Service module documentation for ./modules/local-skill-service/README.md "Linux" or ./platforms/android/modules/local-skill-service/README.md "Android".</p>
<h3>Address Book Local Service Module</h3>
<p>The Address Book Local Service module enables the user, while offline, to call contacts and navigate to favorite addresses. The module uses the Local Skill Service to bridge between the LVC local contacts service and the Auto SDK Address Book module. This module does not include platform interfaces or configuration of its own and instead uses the Address Book module platform interface to retrieve address book entries, as outlined in the Address Book Local Service module documentation for ./modules/address-book-local-service/README.md "Linux" or ./platforms/android/modules/address-book-local-service/README.md "Android".</p>
<h3>Car Control Local Service Module</h3>
<p>The Car Control Local Service module enables offline car control by using the Local Skill Service to bridge between the local car control skill and endpoint discovery service running in LVC and the Auto SDK Car Control module. This module does not include platform interfaces or configuration of its own and instead uses the Car Control module platform interface to adjust settings of the configured vehicle endpoints, such as interior lights and fans, as outlined in the README file for the Car Control module in the Auto SDK.</p>
<h3>Local Navigation Module</h3>
<p>The Local Navigation module enables users to use Alexa local search and navigation without WiFi or data plan connectivity, as outlined in the Local Navigation module documentation for ./modules/local-navigation/README.md "Linux" or ./platforms/android/modules/local-navigation/README.md "Android".</p>
<h2>Local Voice Control Extension Architecture</h2>
<div class="image">
<img src="./assets/LVCExtension.png"/>
</div>
 <h2>General Build Requirements</h2>
<p>You can build the Alexa Auto SDK with the Local Voice Control extension on a Linux, Unix, or macOS host of your choice. However, we recommend and support running a Docker environment with the following configuration.</p>
<ul>
<li>macOS Sierra or Ubuntu 16.04 LTS</li>
<li>Processor: 2.5 GHz</li>
<li>Memory: 16 Gb</li>
<li>Storage: 1 Gb+ available to use.</li>
</ul>
<h3>Supported Target Platforms</h3>
<p>The Alexa Auto SDK is supported on the following platforms:</p>
<ul>
<li>Android 5.1 Lollipop API Level 22 or higher.<ul>
<li>AArch64</li>
<li>x86 64-bit</li>
</ul>
</li>
<li>Generic Linux<ul>
<li>x86 64-bit</li>
</ul>
</li>
<li>Poky Linux<ul>
<li>ARMv7a (+NEON)</li>
<li>AArch64</li>
</ul>
</li>
</ul>
<h3>Device Requirements</h3>
<h4>Android</h4>
<ul>
<li>1GB RAM for the LVC APK</li>
<li>2GB storage for the application and its runtime cache + 1GB per locale for the LVC APK</li>
<li>Android NDK r20</li>
</ul>
<h4>Linux</h4>
<ul>
<li>1GB RAM for the LVC process</li>
<li>1GB storage for application and its runtime cache + 1GB per locale for the LVC APK</li>
</ul>
<h3>Build Dependencies</h3>
<p>The Local Voice Control Extension resources include the prebuilt archive <code>local-voice-engine-[version].tar.gz</code>. This archive provides the Local Voice Engine libraries and headers needed to build the Local Voice Control module.</p>
<h2>Building the Alexa Auto SDK with the Local Voice Control Extension</h2>
<p>&gt;**Note:** Prior to building the Alexa Auto SDK with the Local Voice Control extension, you should read and understand the instructions in the Auto SDK ./builder/README.md "Builder README".</p>
<p>Unzip the <code>local-voice-control-[version].zip</code> archive into the <code>${AAC_SDK_HOME}/extensions/extras</code> directory. For example:</p>
<div class="fragment"><div class="line">unzip local-voice-control-2.0.zip -d ${AAC_SDK_HOME}/aac-sdk/extensions/extras</div></div><!-- fragment --><blockquote class="doxtable">
<p><b>Note</b>: If the archive is already unzipped, move the <code>local-voice-control</code> directory into the <code>aac-sdk/extensions/extras</code> directory. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note</b>: Do not extract the local-voice-engine archive. </p>
</blockquote>
<p>After you have unzipped the <code>local-voice-control-[version].zip</code> archive into the <code>${AAC_SDK_HOME}/extensions/extras</code> directory, run the appropriate build command, additionally specifying the path to the extension. To build for Linux x86 64-bit, for example, use the following command:</p>
<div class="fragment"><div class="line">builder/build.sh linux -t native extensions/extras/local-voice-control</div></div><!-- fragment --><p> The Building an Alexa Auto SDK Android Application with Local Voice Control and Building an Alexa Auto SDK Linux Application with Local Voice Control documents provide platform-specific information.</p>
<h3>Using LVC on Android</h3>
<p>See the Building an Alexa Auto SDK Android Application with Local Voice Control document for details about LVC packaging on Android, using the Android sample app with LVC, and implementation requirements for your own LVC-enabled Auto SDK application.</p>
<h3>Using LVC on Linux</h3>
<p>See the Building an Alexa Auto SDK Linux Application with Local Voice Control document for details about LVC packaging on Linux, using the C++ sample app with LVC, and implementation requirements for your own LVC-enabled Auto SDK application. </p>
</div></div><!-- contents -->
<html>
  <body>
    <hr style="height:1px;border-width:0;color:gray;background-color:gray">
    <p style="text-align:left;">
      Alexa Auto SDK 3.2.0 - Copyright 2017-2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
      <span style="float:right;">
        Licensed under the <a HREF=http://aws.amazon.com/apache2.0/>Apache License, Version 2.0</a>
      </span>
    </p>
  </body>
</html>
